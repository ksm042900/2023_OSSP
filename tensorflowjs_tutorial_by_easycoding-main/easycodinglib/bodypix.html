<html>

<head>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/body-pix@2.2.0/dist/body-pix.min.js"></script>
</head>

<body>
    <img id='image' src='../images/persons.jpg' crossorigin='anonymous' />
</body>
<script>
    const img = document.getElementById('image');

    async function loadAndPredict() {
        console.log(bodyPix);
        const net = await bodyPix.load();
        /**
         * One of:
         *   - net.segmentPerson
         *   - net.segmentPersonParts
         *   - net.segmentMultiPerson
         *   - net.segmentMultiPersonParts
         */
        const segmentation = await net.segmentPerson(img);
        console.log(segmentation);
    }
    loadAndPredict();
</script>

</html>